# 💰 智能報價系統

## 📋 系統概述

這是一個基於Streamlit開發的智能報價管理系統，專為金屬貿易業務設計。系統支持買賣雙向報價，智能價格建議，客戶管理，以及數據分析功能。

## ✨ 主要功能

### 📝 報價管理
- **雙向報價**：支持買入(BUY)和賣出(SELL)報價
- **多幣值支持**：支持台幣(TWD)和美金(USD)
- **智能計算**：自動計算稅額、總計、含稅總額
- **發票管理**：可選擇是否需要開發票
- **有效期管理**：設定報價有效期

### 👥 客戶管理
- **客戶分類**：客戶(CUSTOMER)、供應商(SUPPLIER)、雙向(BOTH)
- **完整資料**：聯絡人、電話、郵件、地址、統一編號
- **信用管理**：付款條件、信用額度設定

### 📊 智能分析
- **市場價格對照**：與LME市場價格比較
- **成功率分析**：報價成功率和趨勢分析
- **金額統計**：每日報價金額趨勢
- **客戶分析**：客戶接受度分析

### ⚙️ 系統設定
- **市場價格管理**：手動輸入或導入市場價格
- **數據備份**：支持數據導出和備份
- **系統配置**：稅率、幣值等系統參數設定

## 🚀 快速開始

### 1. 安裝依賴
```bash
pip install -r requirements.txt
```

### 2. 運行系統
```bash
streamlit run app.py
```

### 3. 訪問系統
打開瀏覽器訪問：http://localhost:8501

## 📊 數據庫結構

### 主要表格
- **partners**：客戶/供應商資料
- **quotations**：報價單主表
- **quotation_items**：報價明細表
- **market_prices**：市場價格表
- **quotation_history**：報價歷史記錄

## 💡 使用流程

### 1. 初始設定
1. 進入「系統設定」頁面
2. 輸入市場價格數據
3. 設定系統參數

### 2. 客戶管理
1. 進入「客戶管理」頁面
2. 新增客戶/供應商資料
3. 設定聯絡信息和付款條件

### 3. 報價流程
1. 進入「新增報價」頁面
2. 選擇報價類型（買入/賣出）
3. 選擇客戶/供應商
4. 新增品項明細
5. 系統自動計算總計
6. 保存報價單

### 4. 報價管理
1. 進入「報價管理」頁面
2. 查看所有報價單
3. 使用篩選功能查找特定報價
4. 更新報價狀態

### 5. 數據分析
1. 進入「數據分析」頁面
2. 查看成功率統計
3. 分析金額趨勢
4. 評估客戶表現

## 🔧 技術架構

- **前端**：Streamlit
- **後端**：Python
- **數據庫**：SQLite
- **圖表**：Plotly
- **數據處理**：Pandas

## 📈 智能功能

### 價格建議算法
- **買入建議**：市場價格的95-98%
- **賣出建議**：市場價格的102-105%
- **客戶調整**：根據客戶歷史接受度調整
- **數量折扣**：根據訂購數量調整

### 成功率預測
- **歷史分析**：基於客戶歷史接受度
- **價格分析**：基於與市場價格的差異
- **趨勢分析**：基於市場價格趨勢
- **綜合評估**：多因素綜合評分

## 🔒 數據安全

- **本地存儲**：數據存儲在本地SQLite數據庫
- **備份功能**：支持數據導出和備份
- **訪問控制**：可擴展用戶權限管理

## 🚀 未來擴展

### 計劃功能
- **PDF報價單生成**
- **郵件發送功能**
- **移動端支持**
- **API接口**
- **雲端部署**

### 集成功能
- **LME數據自動同步**
- **ERP系統集成**
- **財務系統對接**
- **庫存管理集成**

## 📞 技術支持

如有問題或建議，請聯繫開發團隊。

## 📄 授權

本系統為內部使用，請勿外傳。
